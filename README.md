## Introduction
This Repo contains the implementation of Website Directory with the following tasks:

### Unauthenticated User Requirements
- As an unauthenticated user I would like to have the directoryâ€™s websites presented to me in
a categorized way, so content is sorted for me.
- As a user I would like to be able to search these websites so that I can quickly find content
that is relevant to me.
### Authenticated User
- As an authenticated user would like the ability to log in and log out so that the interactions I
have with the system are identifiable and linked to me.
- As an authenticated user I would like to have the ability to submit my favourite website to
the directory so that others can view them.
- As an authenticated user I would like to vote/unvote my favourite websites. Categories will
then show them in order of how many votes they have so that the most relevant content is
always at the top.
### Admin Requirements
- As an administrator I would like to be able to delete websites when needed.

### Technical Requirements
The following functional requirements should also be considered in your project:

- A submitted website can belong to multiple categories
- Users should be able to vote a website only once
- Search should work in combination with categories and ranking and be able to query 100
thousand records+ in the websites table in a reasonable time. To achieve this in production I have used search engine with composer
package meilisearch.

## System requirements
- PHP 8.2
- Docker version 25.0.3
- Composer version 2.2.22
- Ubuntu 22.04
- Postman (optional)

## Setup
After cloning the project

- Make sure to rename the .env.example to .env and set the database connection values.

#### Run the following
```console
composer install
```
- Spin up meilisearch search engine docker container (Important step before running migrate command)
```console
docker run -it --rm -p 7700:7700 getmeili/meilisearch
```

- Run migration, seeds
```console
php artisan migrate
php artisan db:seed
```

- Import Model to Search Engine
```console
php artisan scout:import "App\Models\Website"
```
Here are some other useful commands. Ensure to run the import afterward:
- Delete Model from Search Engine
```console
php artisan scout:flush "App\Models\Website"
```
- Index Model in Search Engine
```console
php artisan scout:index "App\Models\Website"
```

#### Testing
- create database testing_database;
- Run tests
```console
php artisan test
```

#### Run endpints in Postman

- import the postman collection from 

storage/app/postman/2024_06_21_231019_laravel_collection.json.postman_collection.json

- Access search without login

- To vote/unvote or submit a website login as a user using any email and the password 'password' 
generated by seeds and call vote/unvote post website endpoints with the genrated
bearer token in auth.

- To delete a website login as admin and use the bearer token in auth

### Further improvments and consideration:
- Import and index other database models in the search engine to improve query performance.
- Consider expanding test coverage by writing additional scenarios.
- Develop the frontend using Vue.js or another suitable framework.

